<div class="bg-background-secondary rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow <%= 'ring-2 ring-primary-accent' if is_current %>">
  <div class="flex items-start justify-between">
    <div class="flex-1">
      <div class="flex items-center space-x-2 mb-2">
        <h3 class="text-lg font-bold text-text-primary"><%= trip.name %></h3>
        <% if is_current %>
          <span class="text-xs px-2 py-1 rounded-full bg-primary-accent text-white">
            <%= t('trip_switcher.current') %>
          </span>
        <% end %>
      </div>

      <div class="flex items-center space-x-4 text-sm text-text-secondary mb-3">
        <% if trip.start_date %>
          <span>ðŸ“… <%= l(trip.start_date, format: :short) %></span>
        <% end %>
        <% if trip.series_name.present? %>
          <span>ðŸ”— <%= trip.series_name %></span>
        <% end %>
        <span class="px-2 py-1 rounded-full text-xs <%= status_badge_class(trip.status) %>">
          <%= t("trips.status.#{trip.status}") %>
        </span>
      </div>

      <div class="flex items-center space-x-6 text-xs text-text-secondary">
        <span><%= trip.journal_entries.count %> <%= t('journal_entries.title').downcase %></span>
        <span><%= trip.expenses.count %> <%= t('expenses.title').downcase %></span>
        <span><%= trip.active_members.count + 1 %> <%= t('trip_members.title').downcase %></span>
      </div>
    </div>

    <div class="ml-4">
      <%= button_to switch_trip_path(trip_id: trip.id, return_to: return_to), method: :patch,
          class: "bg-primary-accent text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-accent/80 transition-colors text-sm",
          disabled: is_current do %>
        <%= is_current ? t('trip_switcher.selected') : t('trip_switcher.select') %>
      <% end %>
    </div>
  </div>
</div>

<%
  # Helper method for status badge colors
  def status_badge_class(status)
    case status
    when 'planning'
      'bg-blue-100 text-blue-800'
    when 'active'
      'bg-green-100 text-green-800'
    when 'completed'
      'bg-gray-100 text-gray-800'
    else
      'bg-gray-100 text-gray-800'
    end
  end
%>
